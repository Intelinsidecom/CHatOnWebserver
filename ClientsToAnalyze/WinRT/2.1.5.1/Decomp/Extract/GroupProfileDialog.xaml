<UserControl x:ConnectionId='1' xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="using:ChatON_WoA.Views"
             xmlns:infra="using:ChatOn.Infrastructure"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:customControl="using:ChatOn.Controls" 
             xmlns:local1="using:ChatOn.Controls"
             x:Class="ChatOn.Controls.GroupProfileDialog"
             mc:Ignorable="d"
             BorderBrush="Black"
             BorderThickness="1"
                                               
             ManipulationMode="All"
                                                                         
                                                                             >

    <UserControl.Resources>
        <DataTemplate x:Key="BuddyItemTemplate">
            <Grid Margin="5,10,0,10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Image x:ConnectionId='2' HorizontalAlignment="Left"
                       VerticalAlignment="Top"
                       Stretch="Fill"
                       Width="60"
                       Height="60"
                       Source="{Binding ProfileImage}"
                       Grid.Column="0"
                                                  />
                <Grid x:ConnectionId='3' Tag="tilt"
                      Grid.Column="1"
                                                 >
                    <TextBlock Grid.Column="1"
                               Text="{Binding Name}"
                               VerticalAlignment="Top"
                               Margin="10,0,0,0"
                               FontSize="25.333"
                               TextTrimming="WordEllipsis"
                               Foreground="Black"
                               MaxHeight="30"
                               FontFamily="Segoe UI Light"
                               FontWeight="Light" />
                    <TextBlock Grid.Column="1"
                               Text="{Binding Status}"
                               VerticalAlignment="Bottom"
                               Margin="10,38,0,0"
                               FontSize="20"
                               TextWrapping="NoWrap"
                               Foreground="#FF7F7F7F"
                               FontFamily="Segoe UI Light" />
                </Grid>
            </Grid>
        </DataTemplate>

    </UserControl.Resources>

    <Grid x:Name="LayoutRoot"
          HorizontalAlignment="Left"
          VerticalAlignment="Top"
          Background="White"
          Width="800"
          Height="600">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition />
        </Grid.RowDefinitions>
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="2" />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <Rectangle Grid.Column="1"
                       Fill="White"
                       Stroke="Black"
                       Margin="0,0,0,32"
                       Visibility="Collapsed" />
            <StackPanel HorizontalAlignment="Left"
                        Width="220"
                        Margin="0,0,20,0"
                        Background="White">
                <Grid x:ConnectionId='9' HorizontalAlignment="Left"
                      VerticalAlignment="Top"
                      Width="184"
                      Height="184"
                      Margin="11,11,0,0"
                                             >
                    <Image HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           Source="{Binding Group.ProfileImage}"
                           Stretch="UniformToFill" />
                    <!--<local1:ImageDelayControl StretchMode="3" HorizontalAlignment="Center" VerticalAlignment="Center" ProfileImageSource="{Binding Group.ProfileImage}" IsDownloading="False"/>-->
                </Grid>
                <Grid x:ConnectionId='10' x:Name="GroupChatGrid"
                                                     
                      VerticalAlignment="Top"
                      Margin="11,36,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <Image HorizontalAlignment="Left"
                           VerticalAlignment="Top"
                           Stretch="None"
                           Source="Images/Icons/appbtn_startchat_o.png" />
                    <TextBlock HorizontalAlignment="Left"
                               TextWrapping="Wrap"
                               Text="{Binding Converter={StaticResource ResourceStringConverter}, ConverterParameter='IDS_CHATON_SK3_START_CHAT'}"
                               VerticalAlignment="Center"
                               Foreground="Black"
                               FontFamily="Segoe UI Semibold"
                               FontSize="21.333"
                               Grid.Column="1"
                               Margin="10,0,0,0" />
                </Grid>
                <Grid x:ConnectionId='11' x:Name="BroadcastGrid"
                                                     
                      VerticalAlignment="Top"
                      Margin="11,20,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <Image HorizontalAlignment="Left"
                           VerticalAlignment="Top"
                           Stretch="None"
                           Source="Images/Icons/appbtn_broadcast_o.png" />
                    <TextBlock HorizontalAlignment="Left"
                               TextWrapping="Wrap"
                               Text="{Binding Converter={StaticResource ResourceStringConverter}, ConverterParameter='IDS_CHATON_HEADER_BROADCAST'}"
                               VerticalAlignment="Center"
                               Foreground="Black"
                               FontFamily="Segoe UI Semibold"
                               FontSize="21.333"
                               Grid.Column="1"
                               Margin="10,0,0,0" />
                </Grid>
                <Grid x:ConnectionId='12' x:Name="DeleteGroupGrid"
                                                       
                      VerticalAlignment="Top"
                      Margin="11,20,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <Image HorizontalAlignment="Left"
                           VerticalAlignment="Top"
                           Stretch="None"
                           Source="Images/Icons/appbtn_delete_o.png" />
                    <TextBlock HorizontalAlignment="Left"
                               TextWrapping="Wrap"
                               Text="{Binding Converter={StaticResource ResourceStringConverter}, ConverterParameter='IDS_CHATON_HEADER_DELETE_GROUP'}"
                               VerticalAlignment="Center"
                               Foreground="Black"
                               FontFamily="Segoe UI Semibold"
                               FontSize="21.333"
                               Grid.Column="1"
                               Margin="10,0,0,0" />
                </Grid>
                <Grid x:ConnectionId='13' x:Name="PinToStartGrid"
                      VerticalAlignment="Top"
                      Margin="11,20,0,0"
                                                      >
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="169" />
                    </Grid.ColumnDefinitions>
                    <Image HorizontalAlignment="Left"
                           VerticalAlignment="Top"
                           Stretch="None"
                           Source="Images/Icons/appbtn_pintostart_o.png" />
                    <TextBlock HorizontalAlignment="Left"
                               TextWrapping="Wrap"
                               Text="{Binding ConverterParameter=WP7_CHATON_PIN_TO_START, Converter={StaticResource ResourceStringConverter}}"
                               VerticalAlignment="Center"
                               Foreground="Black"
                               FontFamily="Segoe UI Light"
                               FontSize="21.333"
                               Grid.Column="1"
                               Margin="10,0,0,0" />
                </Grid>
            </StackPanel>
            <Grid x:Name="DetailGrid"
                  Grid.Column="2"
                  HorizontalAlignment="Stretch"
                  Margin="0,0,20,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition />
                </Grid.RowDefinitions>
                
                <!-- Edit Name Control -->
                <Grid Margin="0, 10, 0, 10" Height="50">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Column="0" x:Name="tbEditName" 
                               Text="{Binding Group.Name}" 
                               VerticalAlignment="Center" 
                               Foreground="Black"  
                               FontSize="45.333" 
                               FontFamily="Segoe UI Light" 
                               FontWeight="Light" 
                               TextTrimming="WordEllipsis" 
                               Visibility="{Binding ShowNameVisibility}"/>
                    <TextBox x:ConnectionId='6' x:Name="txtEditName" 
                             Grid.Column="0" 
                             MaxLength="30" 
                             VerticalAlignment="Center" 
                             Foreground="Black" 
                             Text="{Binding Group.Name}" 
                             FontSize="28.333" 
                             FontFamily="Segoe UI Light" 
                             FontWeight="Light" 
                             Visibility="{Binding EditNameVisibility}" 
                             ManipulationMode="None" 
                             IsRightTapEnabled="False" 
                             IsHoldingEnabled="False" 
                             IsDoubleTapEnabled="False" 
                                                                />
                    <customControl:ImageButton x:ConnectionId='7' 
                            x:Name="EditName_Button" 
                            NormalImage="Images/Icons/appbtn_edit_dark.png" PressedImage="Images/Icons/appbtn_edit_press_dark.png"
                                                   
                            HorizontalAlignment="Left" VerticalAlignment="Center" 
                            Text=""  Margin="5,5,5,5" Grid.Column="1"/>

                    <StackPanel Orientation="Horizontal" VerticalAlignment="Top" Grid.Column="2" Margin="5,5,5,5">
                        
                        <customControl:ImageButton x:ConnectionId='8' 
                                x:Name="CloseButton" Grid.Column="2"
                                HorizontalAlignment="Left" VerticalAlignment="Top" 
                                NormalImage="Images/Icons/appbtn_cancel.png" 
                                PressedImage="Images/Icons/appbtn_cancel_press.png"
                                DisabledImage="Images/Icons/appbtn_cancel_disabled.png" 
                                                    
                                IsEnabled="{Binding IsCloseEnabled}"
                                Text=""/>

                    </StackPanel>
                </Grid>
                
                
                <!-- End Edit Name Control -->
                <Grid VerticalAlignment="Top"
                      Margin="0"
                      Grid.Row="1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <TextBlock VerticalAlignment="Bottom"
                               Foreground="Black"
                               x:Name="BuddiesCount"
                               FontSize="24"
                               FontFamily="Segoe UI"
                               HorizontalAlignment="Left" />
                    <Button x:ConnectionId='4' x:Name="AddButton"
                                                     
                            IsEnabled="{Binding IsAddable}"
                            Content="{Binding ConverterParameter=IDS_CHATON_SK_ADD, Converter={StaticResource ResourceStringConverter}}"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Top"
                            Grid.Column="1"
                            Background="White"
                            BorderBrush="Black"
                            BorderThickness="1" />
                    <Button x:ConnectionId='5' x:Name="RemoveButton"
                                                        
                            IsEnabled="{Binding IsRemovable}"
                            Content="{Binding ConverterParameter=IDS_CHATON_SK_REMOVE, Converter={StaticResource ResourceStringConverter}}"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Top"
                            Grid.Column="2"
                            Background="White"
                            BorderBrush="Black"
                            BorderThickness="1" />
                </Grid>
                <Rectangle Height="1"
                           StrokeEndLineCap="Square"
                           VerticalAlignment="Top"
                           StrokeThickness="0"
                           Fill="Black"
                           Margin="0"
                           Grid.Row="2" />
                <ListView ItemsSource="{Binding BuddyList}"
                          SelectionMode="None"
                          ItemTemplate="{StaticResource BuddyItemTemplate}"
                          HorizontalContentAlignment="Stretch"
                          ItemContainerStyle="{StaticResource FullWidthListItemStyle}"
                          Grid.Row="3"
                          Margin="0,10,0,0">
                    <ListView.ItemsPanel>
                        <ItemsPanelTemplate>
                            <VirtualizingStackPanel />
                        </ItemsPanelTemplate>
                    </ListView.ItemsPanel>
                </ListView>
            </Grid>
        </Grid>
        <Border BorderBrush="Black"
                BorderThickness="1"
                Grid.RowSpan="2">
            <!--<Border HorizontalAlignment="Left" Height="13" Margin="-10.5,465,0,0" VerticalAlignment="Top" Width="10.5">
                <Path Data="M0.333333,466.5 L-8.99967,472.167 L0.500333,478.5" Fill="#FFF4F4F5" Stretch="Fill" Stroke="Black" UseLayoutRounding="False" Margin="-6.162,0,0.161,-6.167" Width="17"/>
            </Border>-->
        </Border>
    </Grid>
</UserControl>

