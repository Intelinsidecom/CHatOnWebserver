<Page x:Class="ChatON_WoA.Views.PivotPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:local="using:ChatON_WoA.Views"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:infra="using:ChatOn.Infrastructure"
      xmlns:customControl="using:ChatOn.Controls"
      NavigationCacheMode="Required"
      mc:Ignorable="d">
    <Page.Resources>
        <Style x:Key="local_tabTitle"
               TargetType="TextBlock">
            <Setter Property="FontFamily"
                    Value="Segoe UI Light" />
            <Setter Property="FontSize"
                    Value="56" />
            <Setter Property="VerticalAlignment"
                    Value="Top" />
            <Setter Property="HorizontalAlignment"
                    Value="Left" />
            <Setter Property="FontWeight"
                    Value="Light" />
            <Setter Property="Foreground"
                    Value="Black" />
        </Style>
        <Style x:Key="local_newNumberText"
               TargetType="TextBlock">
            <Setter Property="HorizontalAlignment"
                    Value="Center" />
            <Setter Property="TextWrapping"
                    Value="Wrap" />
            <Setter Property="VerticalAlignment"
                    Value="Center" />
            <Setter Property="Foreground"
                    Value="White" />
            <Setter Property="FontFamily"
                    Value="Segoe UI Light" />
            <Setter Property="FontSize"
                    Value="14.667" />
            <Setter Property="FontWeight"
                    Value="Bold" />
        </Style>
        <Style x:Key="local_newNumberImage"
               TargetType="Image">
            <Setter Property="VerticalAlignment"
                    Value="Top" />
            <Setter Property="Stretch"
                    Value="None" />
            <Setter Property="Source"
                    Value="Images/headers_new_number.png" />
            <Setter Property="HorizontalAlignment"
                    Value="Left" />
        </Style>
    </Page.Resources>
    <Grid x:Name="LayoutRoot"
          Background="#FFF4F4F4">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Grid x:Name="titleGrid"
              VerticalAlignment="Top"
              Height="140">
            <Grid.RowDefinitions>
                <RowDefinition Height="38" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <Grid Margin="120,10,0,0"
                  Grid.Row="1"
                  VerticalAlignment="Top">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Grid x:ConnectionId='2' Tag="0"
                                               >
                    <TextBlock Style="{StaticResource local_tabTitle}"
                               Tag="0"
                               Opacity="{Binding SelectedIndex, ConverterParameter=0, Converter={StaticResource SelectedIndexToOpacity}}"
                               Text="{Binding Converter={StaticResource ResourceStringConverter}, ConverterParameter='IDS_CHATON_BODY_BUDDIES_ABB'}" />
                </Grid>
                <Grid VerticalAlignment="Top"
                      Grid.Column="1"
                      Margin="0,4,0,0"
                      Visibility="{Binding NewBuddyCount, ConverterParameter=0, Converter={StaticResource BiggerThanParamToVisibility}}">
                    <Image Style="{StaticResource local_newNumberImage}"
                           Stretch="{Binding NewBuddyCount, Converter={StaticResource StretchConverter}}"
                           Width="{Binding NewBuddyCount, ConverterParameter='23',Converter={StaticResource AutoWidthConverter}}"
                           Height="{Binding NewBuddyCount, ConverterParameter='23',Converter={StaticResource AutoWidthConverter}}" />
                    <TextBlock Style="{StaticResource local_newNumberText}"
                               Text="{Binding NewBuddyCount}" />
                </Grid>
                <Grid x:ConnectionId='3' Grid.Column="2"
                      Tag="1"
                                            >
                    <TextBlock Style="{StaticResource local_tabTitle}"
                               Tag="1"
                               Opacity="{Binding SelectedIndex, ConverterParameter=1, Converter={StaticResource SelectedIndexToOpacity}}"
                               Text="{Binding Converter={StaticResource ResourceStringConverter}, ConverterParameter='IDS_CHATON_BODY_CHATS_ABB'}"
                               Margin="99,0,0,0" />
                </Grid>
                <Grid VerticalAlignment="Top"
                      Grid.Column="3"
                      Margin="0,4,0,0"
                      Visibility="{Binding NewChatCount, ConverterParameter=0, Converter={StaticResource BiggerThanParamToVisibility}}">
                    <Image Style="{StaticResource local_newNumberImage}"
                           Stretch="{Binding NewChatCount, Converter={StaticResource StretchConverter}}"
                           Width="{Binding NewChatCount, ConverterParameter='23',Converter={StaticResource AutoWidthConverter}}"
                           Height="{Binding NewChatCount, ConverterParameter='23',Converter={StaticResource AutoWidthConverter}}" />
                    <TextBlock Style="{StaticResource local_newNumberText}"
                               Text="{Binding NewChatCount, Converter={StaticResource UnreadMessageCountConverter}}" />
                </Grid>
                <Grid x:ConnectionId='4' Grid.Column="4"
                      Tag="2"
                                              >
                    <TextBlock Style="{StaticResource local_tabTitle}"
                               Tag="2"
                               Opacity="{Binding SelectedIndex, ConverterParameter=2, Converter={StaticResource SelectedIndexToOpacity}}"
                               Text="{Binding Converter={StaticResource ResourceStringConverter}, ConverterParameter='IDS_CHATON_HEADER_MY_PAGE'}"
                               Margin="99,0,0,0" />
                </Grid>
                <Grid HorizontalAlignment="Right"
                      Margin="0,-17,50,0"
                      Grid.Column="6"
                      MinWidth="300"
                      x:Name="GridSearchAndSuggestion">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <!--<StackPanel Grid.Column="0" VerticalAlignment="Top" Orientation="Vertical" HorizontalAlignment="Center">
                        <customControl:ImageButton x:Name="TrunkButton" Visibility="{Binding TrunkButtonVisibility}" NormalImage="/Images/Icons/appbtn_share_2.png" PressedImage="/Images/Icons/appbtn_share_2_press.png" 
            		VerticalAlignment="Top" Click="Trunk_Click" Margin="0,0,0,0" Height="40" Width="40"/>
                        <Grid HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,-45,0,0" Visibility="{Binding TrunkButtonVisibility}">
                            <Grid Visibility="{Binding NewTrunkCommentCount, ConverterParameter=0, Converter={StaticResource BiggerThanParamToVisibility}}" HorizontalAlignment="Center" VerticalAlignment="Center">
                                <Image Style="{StaticResource local_newNumberImage}" RenderTransformOrigin="2.156,0.562" Stretch="{Binding NewTrunkCommentCount, Converter={StaticResource StretchConverter}}" Width="{Binding NewTrunkCommentCount, ConverterParameter='23',Converter={StaticResource AutoWidthConverter}}" Height="{Binding NewTrunkCommentCount, ConverterParameter='23',Converter={StaticResource AutoWidthConverter}}"/>
                                <TextBlock Style="{StaticResource local_newNumberText}" Text="{Binding NewTrunkCommentCount}"/>
                            </Grid>
                        </Grid>
                        <TextBlock Text="{Binding Converter={StaticResource ResourceStringConverter}, ConverterParameter='IDS_CHATON_BODY_TRUNK'}" HorizontalAlignment="Right" VerticalAlignment="Top" FontSize="20" Foreground="#FF219297" FontFamily="Segoe UI" Margin="5" Visibility="{Binding TrunkButtonVisibility}"  />
                    </StackPanel>-->

                    <StackPanel x:ConnectionId='5' Grid.Column="0"
                                VerticalAlignment="Top"
                                Orientation="Vertical"
                                HorizontalAlignment="Center"
                                Visibility="Collapsed"
                                                          >
                        <customControl:ImageButton NormalImage="/Images/Icons/appbtn_updates.png"
                                                   PressedImage="/Images/Icons/appbtn_updates_press.png"
                                                   VerticalAlignment="Top"
                                                   Margin="0,0,0,0"
                                                   Height="40"
                                                   Width="40" />

                        <TextBlock x:Name="UpdateText"
                                   HorizontalAlignment="Right"
                                   TextWrapping="Wrap"
                                   Text="{Binding Converter={StaticResource ResourceStringConverter}, ConverterParameter='recent_story_title'}"
                                   d:LayoutOverrides="GridBox"
                                   FontSize="20"
                                   Foreground="#FF219297"
                                   FontFamily="Segoe UI"
                                   Margin="5"
                                   Grid.Column="0" />
                    </StackPanel>

                    <StackPanel x:ConnectionId='6' Grid.Column="1"
                                VerticalAlignment="Top"
                                Orientation="Vertical"
                                HorizontalAlignment="Center"
                                                               >
                        <customControl:ImageButton NormalImage="/Images/Icons/appbtn_people.png"
                                                   PressedImage="/Images/Icons/appbtn_people_press.png"
                                                   VerticalAlignment="Top"
                                                   Margin="0,0,0,0"
                                                   Height="40"
                                                   Width="40" />

                        <TextBlock x:Name="SuggestionsText"
                                   HorizontalAlignment="Right"
                                   TextWrapping="Wrap"
                                   Text=""
                                   d:LayoutOverrides="GridBox"
                                   FontSize="20"
                                   Foreground="#FF219297"
                                   FontFamily="Segoe UI"
                                   Margin="5"
                                   Grid.Column="0" />
                    </StackPanel>

                    <StackPanel x:ConnectionId='7' Grid.Column="2"
                                VerticalAlignment="Top"
                                Orientation="Vertical"
                                HorizontalAlignment="Center"
                                                      >
                        <customControl:ImageButton NormalImage="/Images/Icons/appbtn_search.png"
                                                   PressedImage="/Images/Icons/appbtn_search_press.png"
                                                   VerticalAlignment="Top"
                                                   Margin="0,0,0,0"
                                                   Height="40"
                                                   Width="40" />
                        <TextBlock Text="{Binding Converter={StaticResource ResourceStringConverter}, ConverterParameter='IDS_CHATON_BUTTON_SEARCH'}"
                                   HorizontalAlignment="Right"
                                   VerticalAlignment="Top"
                                   FontSize="20"
                                   Foreground="#FF219297"
                                   FontFamily="Segoe UI"
                                   Margin="5"
                                   Grid.Column="1"
                                   Grid.Row="1"></TextBlock>
                    </StackPanel>
                </Grid>

                <Grid VerticalAlignment="Top"
                      Grid.Column="5"
                      Margin="0,4,0,0"
                      Visibility="{Binding NewCommentCount, ConverterParameter=0, Converter={StaticResource BiggerThanParamToVisibility}}">
                    <Image Style="{StaticResource local_newNumberImage}" />
                    <TextBlock Style="{StaticResource local_newNumberText}"
                               Text="{Binding NewCommentCount}" />
                </Grid>
            </Grid>
        </Grid>
        <Frame x:ConnectionId='1' x:Name="Current"
               Grid.Row="1"
               Margin="0,0,0,80"
               IsTabStop="False"
                                               />
    </Grid>
</Page>

