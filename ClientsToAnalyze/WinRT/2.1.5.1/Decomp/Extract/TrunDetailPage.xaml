<Page x:ConnectionId='1' x:Name="pageRoot"
      x:Class="ChatON_WoA.Views.TrunkDetailPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:local="using:ChatON_WoA.Views"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:customControl="using:ChatOn.Controls"
      mc:Ignorable="d"
                                     >

    <Page.Resources>
        <DataTemplate x:Key="TrunkCommentTemplate">
            <Grid x:ConnectionId='2' Background="Transparent"
                                           
                  Margin="0,0,0,10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Image Margin="0"
                       VerticalAlignment="Top"
                       Source="{Binding ThumbImage}"
                       Width="60"
                       HorizontalAlignment="Left"
                       Height="60"
                       Stretch="Fill" />
                <Grid VerticalAlignment="Top"
                      Grid.Column="1"
                      Margin="10,0,20,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <Grid VerticalAlignment="Top">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="{Binding Name}"
                                   VerticalAlignment="Top"
                                   FontSize="25.333"
                                   FontFamily="Segoe UI Light"
                                   HorizontalAlignment="Left"
                                   FontWeight="Light"
                                   Foreground="Black" />
                        <TextBlock HorizontalAlignment="Right"
                                   Text="{Binding Regdttm, Converter={StaticResource DateToTimePolicyValue}}"
                                   FontSize="21.333"
                                   VerticalAlignment="Top"
                                   FontFamily="Segoe UI Light"
                                   Foreground="#FF328195" />
                    </Grid>
                    <TextBlock HorizontalAlignment="Left"
                               TextWrapping="Wrap"
                               Text="{Binding Content}"
                               FontSize="20"
                               Foreground="Gray"
                               FontFamily="Segoe UI Light"
                               Grid.Row="1" />
                </Grid>
            </Grid>
        </DataTemplate>
    </Page.Resources>

    <Page.BottomAppBar>
        <AppBar x:Name="appBar"
                Background="#FFFA8719">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="50*" />
                    <ColumnDefinition Width="50*" />
                </Grid.ColumnDefinitions>
                <StackPanel x:Name="LeftCommands"
                            Orientation="Horizontal"
                            Grid.Column="0"
                            HorizontalAlignment="Left"
                            Margin="0,14,0,13">
                </StackPanel>
                <StackPanel x:Name="RightCommands"
                            Orientation="Horizontal"
                            Grid.Column="1"
                            HorizontalAlignment="Right"
                            Margin="0,14,0,13">
                    <customControl:ImageButton x:ConnectionId='3' x:Name="DeleteButton"
                                                                   
                                               Visibility="{Binding DeleteVisibility}"
                                               NormalImage="/Images/Icons/appbtn_delete.png"
                                               PressedImage="/Images/Icons/appbtn_delete_press.png"
                                               Foreground="White"
                                               Text="Delete"
                                               HorizontalAlignment="Left"
                                               VerticalAlignment="Top"
                                               Margin="0,0,55,0" />
                    <customControl:ImageButton x:ConnectionId='4' x:Name="ShareButton"
                                               NormalImage="Images/Icons/appbtn_share.png"
                                               PressedImage="Images/Icons/appbtn_share_press.png"
                                               Foreground="White"
                                               Text="Share"
                                               HorizontalAlignment="Left"
                                               VerticalAlignment="Top"
                                               Margin="0,0,55,0"
                                                                           />
                    <customControl:ImageButton x:ConnectionId='5' x:Name="SaveButton"
                                               NormalImage="Images/Icons/appbtn_save.png"
                                               PressedImage="Images/Icons/appbtn_save_press.png"
                                                                         
                                               Foreground="White"
                                               Text="Save"
                                               HorizontalAlignment="Left"
                                               VerticalAlignment="Top"
                                               Margin="0,0,35,0" />
                </StackPanel>
            </Grid>
        </AppBar>
    </Page.BottomAppBar>

    <Grid x:ConnectionId='6' x:Name="LayoutRoot"
          Background="#FFF4F4F4"
          ManipulationMode="All"
                                                                   
                                                                       >
        <Grid.RowDefinitions>
            <RowDefinition Height="140" />
            <RowDefinition />
        </Grid.RowDefinitions>
        <Grid VerticalAlignment="Top"
              Margin="39,58,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <Button x:ConnectionId='11' x:Name="backButton"
                    IsEnabled="{Binding Frame.CanGoBack, ElementName=pageRoot}"
                    Style="{StaticResource BackButtonStyle}"
                                              
                    VerticalAlignment="Center"
                    Margin="0" />
            <TextBlock HorizontalAlignment="Left"
                       TextWrapping="Wrap"
                       Text="{Binding UploaderName}"
                       FontFamily="Segoe UI"
                       FontSize="54.667"
                       VerticalAlignment="Center"
                       Grid.Column="1"
                       Margin="39,0,0,0"
                       Foreground="Black"
                       FontWeight="Light" />
            <TextBlock HorizontalAlignment="Left"
                       TextWrapping="Wrap"
                       Text="{Binding UploadTime, Converter={StaticResource DateTimeStringConverter},ConverterParameter='MMM dd,yyyy hh:mm tt'}"
                       FontFamily="Segoe UI Light"
                       FontSize="25.333"
                       VerticalAlignment="Bottom"
                       Grid.Column="2"
                       Foreground="Gray"
                       Margin="30,0,0,6"
                       FontWeight="Light"
                       Visibility="{Binding UploadTime_Visible}" />
        </Grid>
        <Grid Grid.Row="1"
              Margin="120,0,120,100"
              Visibility="{Binding Grid_Visible}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <Grid x:ConnectionId='7'                       
                  Margin="0,0,0,0">
                <Image Source="{Binding ItemImg}"
                       VerticalAlignment="Center"
                       HorizontalAlignment="Center" />
                <Image x:Name="VideoIcon"
                       Stretch="None"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"
                       Source="Images/trunk_video.png"
                       Visibility="{Binding Video_Visible}" />
            </Grid>
            <Grid Grid.Column="1"
                  Visibility="{Binding Comment_Visible}">
                <Grid.RowDefinitions>
                    <RowDefinition />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <Grid HorizontalAlignment="Right"
                      Height="68"
                      VerticalAlignment="Top"
                      Width="75"
                      Background="#FFFA8719"
                      Margin="0,6,0,0"
                      Visibility="{Binding TrunkComments, Converter={StaticResource ObjectCountToShow}}">
                    <TextBlock Visibility="{Binding Comment_Visible}"
                               TextWrapping="Wrap"
                               Text="{Binding CommentCnt}"
                               Margin="5,0,5,0"
                               FontSize="34"
                               FontFamily="Segoe UI Light"
                               HorizontalAlignment="Right"
                               VerticalAlignment="Top"
                               Foreground="White" />
                    <TextBlock Visibility="{Binding Comment_Visible}"
                               TextWrapping="Wrap"
                               Text="{Binding ConverterParameter=IDS_CHATON_BODY_COMMENTS, Converter={StaticResource ResourceStringConverter}}"
                               HorizontalAlignment="Left"
                               Margin="2,40,2,0"
                               FontSize="14"
                               FontFamily="Segoe UI Light"
                               VerticalAlignment="Top"
                               Foreground="White" />
                </Grid>

                <ListView x:ConnectionId='8' Visibility="{Binding Comment_Visible}"
                          VerticalAlignment="Bottom"
                          x:Name="CommentList"
                                                       
                          ScrollViewer.VerticalScrollBarVisibility="Auto"
                          HorizontalAlignment="Right"
                          SelectionMode="None"
                          Grid.Column="1"
                          Margin="20,128,0,0"
                          ItemsSource="{Binding TrunkComments}"
                          ItemTemplate="{StaticResource TrunkCommentTemplate}"
                          ItemContainerStyle="{StaticResource FullWidthListItemStyle}"
                          Width="480">
                    <ListView.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel />
                        </ItemsPanelTemplate>
                    </ListView.ItemsPanel>
                </ListView>
                <TextBlock Margin="15,15,0,0"
                           Text="{Binding Converter={StaticResource ResourceStringConverter},ConverterParameter='IDS_CHATON_BODY_WRITE_A_COMMENT_AND_SHARE_WITH_YOUR_BUDDIES'}"
                           Grid.Column="1"
                           VerticalAlignment="Center"
                           HorizontalAlignment="Center"
                           Visibility="{Binding TrunkComments, Converter={StaticResource ObjectCountToHide}}"
                           FontSize="24"
                           TextWrapping="Wrap" />
                <Grid Grid.Row="1"
                      VerticalAlignment="Top"
                      Grid.Column="1"
                      Margin="15,15,0,0"
                      Visibility="{Binding Comment_Visible}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <TextBox x:ConnectionId='9' x:Name="InputBox"
                             Text="{Binding ConverterParameter=IDS_CHATON_BODY_ENTER_MESSAGE, Converter={StaticResource ResourceStringConverter}}"
                             TextWrapping="Wrap"
                             Foreground="Gray"
                          MaxLength="140"
                             VerticalAlignment="Bottom"
                                                           
                                                             
                                                   
                             MinHeight="44"
                             MaxHeight="100"
                             FontSize="21.333"
                             IsSpellCheckEnabled="True"
                             IsTextPredictionEnabled="True" />
                    <Button x:ConnectionId='10' x:Name="DoneButton"
                                                      
                            Content="{Binding ConverterParameter=IDS_CHATON_BUTTON_DONE, Converter={StaticResource ResourceStringConverter}}"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Bottom"
                            Grid.Column="1"
                            Margin="10,0,0,0"
                            Height="44"
                            Background="#FFFFFF"
                            BorderBrush="Black"
                            BorderThickness="1" />
                </Grid>
            </Grid>

        </Grid>
    </Grid>
</Page>

