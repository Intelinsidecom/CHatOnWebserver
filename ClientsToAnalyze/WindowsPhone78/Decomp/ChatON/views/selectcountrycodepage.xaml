<phone:PhoneApplicationPage 
    x:Class="ChatOn.Views.SelectCountryCodePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:phone="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone"
    xmlns:shell="clr-namespace:Microsoft.Phone.Shell;assembly=Microsoft.Phone"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:Customcontrols="clr-namespace:ChatOn.Controls"
    xmlns:toolkit="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone.Controls.Toolkit"
    FontFamily="{StaticResource PhoneFontFamilyNormal}"
    FontSize="{StaticResource PhoneFontSizeNormal}"
    Foreground="{StaticResource PhoneForegroundBrush}"
    SupportedOrientations="Portrait" Orientation="Portrait"
    mc:Ignorable="d" d:DesignHeight="768" d:DesignWidth="480"
    shell:SystemTray.IsVisible="True"
    toolkit:TiltEffect.IsTiltEnabled="True">
    <phone:PhoneApplicationPage.Resources>
        <DataTemplate x:Key="CodeItemDataTemplate">
            <StackPanel Margin="0,0,0,30" Tap="StackPanel_Tap">
                <Customcontrols:HilightedTextBlock Visibility="{Binding Keyword, Converter={StaticResource StringNullOrEmptyToHide}}"
                     MaxLength="43" Text="{Binding Name}" Keyword="{Binding Keyword}"
                     FontSize="43" FontFamily="Segoe WP SemiLight" HorizontalAlignment="Left" Foreground="{StaticResource PhoneForegroundBrush}" VerticalAlignment="Top"/>
                <TextBlock Visibility="{Binding Keyword, Converter={StaticResource StringNullOrEmptyToHide},ConverterParameter='!'}"
                    Text="{Binding Name}" FontSize="43" FontFamily="Segoe WP SemiLight" HorizontalAlignment="Left" Foreground="{StaticResource PhoneForegroundBrush}" VerticalAlignment="Top"/>
                <TextBlock Visibility="{Binding Code, Converter={StaticResource StringNullOrEmptyToHide}}" TextWrapping="Wrap" Text="{Binding Code}" HorizontalAlignment="Left" VerticalAlignment="Top">
					<TextBlock.Foreground>
						<SolidColorBrush Color="{StaticResource PhoneAccentColor}"/>
					</TextBlock.Foreground>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
    </phone:PhoneApplicationPage.Resources>

    <!--LayoutRoot is the root grid where all page content is placed-->
    <Grid x:Name="LayoutRoot" Background="Transparent">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="36"/>
            <RowDefinition Height="48"/>
            <RowDefinition Height="35"/>
            <RowDefinition/>
        </Grid.RowDefinitions>
        <StackPanel x:Name="TitlePanel" Grid.Row="0">
            <TextBlock x:Name="ApplicationTitle" Text="{Binding MyResContainer.IDS_CHATON_BODY_SELECT_COUNTRY_CODE, Source={StaticResource LocalizedStrings},Converter={StaticResource UpperCaseConverter}}" Style="{StaticResource PhoneTextNormalStyle}" Margin="24,24,0,0" FontSize="23" FontFamily="Segoe WP Semibold"/>
        </StackPanel>
        <ListBox Grid.Row="4" x:Name="SearchResultList" Margin="24,0,24,0" ItemTemplate="{StaticResource CodeItemDataTemplate}"/>
        <ListBox Grid.Row="4" x:Name="SearchResultListNonVirtual" Margin="24,0,24,0" ItemTemplate="{StaticResource CodeItemDataTemplate}">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <StackPanel></StackPanel>
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
        </ListBox>
        <TextBox x:Name="InputBox" Text="{Binding Keyword, Mode=TwoWay}"  Grid.Row="2" TextWrapping="Wrap" Margin="12,-12" Visibility="Collapsed"
                 InputScope="AddressCountryName" TextChanged="InputBox_TextChanged"/>
        <StackPanel x:Name="SearchPanel" Margin="24,0,0,0" Grid.Row="2" Orientation="Horizontal" Tap="SearchPanel_Tap" >
            <Customcontrols:ImageButton ClickMode="Release" HorizontalAlignment="Left" VerticalContentAlignment="Top"
                                        NormalImage="/icons/appbtn_search.png" PressedImage="/Images/appbtn_search_press.png"
                                        LightNormalImage="/Images/LightTheme/appbtn_search.png" LightPressedImage="/Images/LightTheme/appbtn_search_press.png"/>
            <TextBlock TextWrapping="Wrap" Text="{Binding MyResContainer.IDS_CHATON_BUTTON_SEARCH, Source={StaticResource LocalizedStrings}}" FontSize="30" VerticalAlignment="Center" FontFamily="Segoe WP SemiLight" d:LayoutOverrides="Width" HorizontalAlignment="Left" Margin="16,0,0,0"/>
        </StackPanel>
    </Grid>


</phone:PhoneApplicationPage>
